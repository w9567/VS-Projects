webpackJsonp([12],{hCXi:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{tableData:[],search:"",username:""}},methods:{handleEdit:function(t,e){this.$router.push({path:"/admin/update",query:{draft:e}})},handleDelete:function(t,e){var n=this;console.log(t,e),this.$confirm("此操作将永久删除该文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.axios.post("/api/admin/delArticle",{id:e.id}).then(function(e){1==e.data.status?(n.$message({message:"删除成功",type:"success"}),n.tableData.splice(t,1)):0==e.data.status&&n.$message.error("删除失败")}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t),n.$message({type:"info",message:"已取消删除"})})}},mounted:function(){var t=this;this.username=sessionStorage.getItem("username"),this.axios.get("/api/getArticle",{params:{state:1,username:this.username}}).then(function(e){t.tableData=e.data}).catch(function(t){console.log(t)})}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"blog-body"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.filter(function(e){return!t.search||e.name.toLowerCase().includes(t.search.toLowerCase())})}},[n("el-table-column",{attrs:{label:"Title",prop:"title"}}),t._v(" "),n("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return t.handleEdit(e.$index,e.row)}}},[t._v("Edit")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return t.handleDelete(e.$index,e.row)}}},[t._v("Delete")])]}}])})],1)],1)},staticRenderFns:[]},i=n("VU/8")(a,s,!1,null,null,null);e.default=i.exports}});
//# sourceMappingURL=12.476900801ccbb7474eec.js.map