webpackJsonp([3],{"I4Y/":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{draft:[],tags:[]}},methods:{del:function(){var t=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.axios.post("/api/admin/delArticle",{id:t.draft.id}).then(function(e){1==e.data.status?(t.$message({message:"删除成功",type:"success"}),t.$router.push({path:"/admin/draft"})):0==e.data.status&&t.$message.error("删除失败")}).catch(function(t){console.log(t)})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},update:function(){this.$router.push({path:"/admin/update",query:{draft:this.draft}})},publish:function(){var t=this;this.axios.post("/api/admin/updateArticle",{state:1,id:this.draft.id}).then(function(e){1==e.data.status?(t.$message({message:"发布成功",type:"success"}),t.$router.push({path:"/admin/draft"})):0==e.data.status&&t.$message.error("发布失败")}).catch(function(t){console.log(t)})}},mounted:function(){this.draft=this.$route.query.article;var t=this.draft.type.substring(1,this.draft.type.length-1).replace(/\"/g,"");this.tags=t.split(",")}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"blog-body"},[s("div",{staticClass:"detail"},[s("h1",{staticClass:"detail-title"},[t._v(t._s(t.draft.title))]),t._v(" "),s("div",{staticClass:"detail-content"},[s("p",{domProps:{innerHTML:t._s(t.draft.shtml)}})]),t._v(" "),s("div",{staticStyle:{"margin-top":"10px"}},t._l(t.tags,function(e,a){return s("el-tag",{key:a,staticStyle:{border:"none","margin-right":"10px"},attrs:{type:"info"}},[t._v(t._s(e))])}),1),t._v(" "),s("div",{staticStyle:{"text-align":"center",margin:"10px 0"}},[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.update}},[t._v("编辑")]),t._v(" "),s("el-button",{attrs:{type:"danger",size:"small"},on:{click:t.del}},[t._v("删除")]),t._v(" "),s("el-button",{attrs:{type:"success",size:"small"},on:{click:t.publish}},[t._v("发布")])],1)])])},staticRenderFns:[]};var n=s("VU/8")(a,i,!1,function(t){s("rNdn")},"data-v-74dbdb36",null);e.default=n.exports},rNdn:function(t,e){}});
//# sourceMappingURL=3.6b33eb61d5b9b7ebbd7f.js.map